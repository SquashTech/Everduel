<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Everduel</title>
    
    <!-- Single CSS File -->
    <link rel="stylesheet" href="css/game.css">
</head>
<body>
    <!-- Loading Indicator -->
    <div id="loadingIndicator" class="app-loading">
        <div>ğŸ® Loading Everduel...</div>
    </div>

    <div class="game-container">
        <!-- AI Player Area -->
        <div class="player-area">
            <div class="battlefield-container">
                <div class="battlefield" id="aiBattlefield">
                    <!-- Dragon Flame Display for AI -->
                    <div class="dragon-flame-display battlefield-dragon-flame" id="aiDragonFlame">
                        <span class="dragon-flame-icon">ğŸ”¥</span>
                        <span class="dragon-flame-count">0</span>
                    </div>
                    <!-- Souls Display for AI -->
                    <div class="souls-display battlefield-souls" id="aiBattlefieldSouls">
                        <span class="souls-icon">ğŸ‘»</span>
                        <span class="souls-count" id="aiSouls">0</span>
                    </div>
                    <!-- Turn Indicator for AI -->
                    <div class="turn-indicator battlefield-turn" id="aiBattlefieldTurn">
                        <span class="turn-icon">âš”ï¸</span>
                    </div>
                    <!-- AI Back Row (slots 3,4,5) displayed at top -->
                    <div class="battlefield-row">
                        <div class="slot-container">
                            <div class="slot back-row" data-player="ai" data-slot="3"></div>
                            <div class="slot-buff" id="ai-slot-3-buff" data-buff="none"></div>
                        </div>
                        <div class="slot-container">
                            <div class="slot back-row" data-player="ai" data-slot="4"></div>
                            <div class="slot-buff" id="ai-slot-4-buff" data-buff="none"></div>
                        </div>
                        <div class="slot-container">
                            <div class="slot back-row" data-player="ai" data-slot="5"></div>
                            <div class="slot-buff" id="ai-slot-5-buff" data-buff="none"></div>
                        </div>
                    </div>
                    <!-- AI Front Row (slots 0,1,2) displayed at bottom -->
                    <div class="battlefield-row">
                        <div class="slot-container">
                            <div class="slot front-row" data-player="ai" data-slot="0"></div>
                            <div class="slot-buff" id="ai-slot-0-buff" data-buff="none"></div>
                        </div>
                        <div class="slot-container">
                            <div class="slot front-row" data-player="ai" data-slot="1"></div>
                            <div class="slot-buff" id="ai-slot-1-buff" data-buff="none"></div>
                        </div>
                        <div class="slot-container">
                            <div class="slot front-row" data-player="ai" data-slot="2"></div>
                            <div class="slot-buff" id="ai-slot-2-buff" data-buff="none"></div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- AI Player Info - Separate Box -->
        <div class="player-info-box ai-info">
            <h3>Opponent</h3>
            <button class="btn btn-deck btn-deck-hand" id="aiDeckBtn" title="View AI Deck">Deck: <span id="aiDeckCount">0</span></button>
            <div class="player-stats-compact">
                <div class="health">ğŸ›¡ï¸ <span id="aiHealth">20</span></div>
                <div class="gold">ğŸ’° <span id="aiGoldCurrent">2</span></div>
            </div>
        </div>

        <!-- Player Area -->
        <div class="player-area">
            <div class="battlefield-container">
                <div class="battlefield" id="playerBattlefield">
                    <!-- Dragon Flame Display for Player -->
                    <div class="dragon-flame-display battlefield-dragon-flame" id="playerDragonFlame">
                        <span class="dragon-flame-icon">ğŸ”¥</span>
                        <span class="dragon-flame-count">0</span>
                    </div>
                    <!-- Souls Display for Player -->
                    <div class="souls-display battlefield-souls" id="playerBattlefieldSouls">
                        <span class="souls-icon">ğŸ‘»</span>
                        <span class="souls-count" id="playerSouls">0</span>
                    </div>
                    <!-- Turn Indicator for Player -->
                    <div class="turn-indicator battlefield-turn" id="playerBattlefieldTurn">
                        <span class="turn-icon">âš”ï¸</span>
                    </div>
                    <div class="battlefield-row">
                        <div class="slot-container">
                            <div class="slot front-row" data-player="player" data-slot="0"></div>
                            <div class="slot-buff" id="player-slot-0-buff" data-buff="none"></div>
                        </div>
                        <div class="slot-container">
                            <div class="slot front-row" data-player="player" data-slot="1"></div>
                            <div class="slot-buff" id="player-slot-1-buff" data-buff="none"></div>
                        </div>
                        <div class="slot-container">
                            <div class="slot front-row" data-player="player" data-slot="2"></div>
                            <div class="slot-buff" id="player-slot-2-buff" data-buff="none"></div>
                        </div>
                    </div>
                    <div class="battlefield-row">
                        <div class="slot-container">
                            <div class="slot back-row" data-player="player" data-slot="3"></div>
                            <div class="slot-buff" id="player-slot-3-buff" data-buff="none"></div>
                        </div>
                        <div class="slot-container">
                            <div class="slot back-row" data-player="player" data-slot="4"></div>
                            <div class="slot-buff" id="player-slot-4-buff" data-buff="none"></div>
                        </div>
                        <div class="slot-container">
                            <div class="slot back-row" data-player="player" data-slot="5"></div>
                            <div class="slot-buff" id="player-slot-5-buff" data-buff="none"></div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Game Log Display - Green Box -->
        <div class="game-log-display">
            <div class="game-log-header">ğŸ“œ Game Log</div>
            <div class="game-log-content" id="gameLogDisplay">
                <div class="game-log-entry">ğŸ® Welcome to Everduel!</div>
                <div class="game-log-entry">ğŸ”„ Game started - Your turn</div>
            </div>
        </div>
        
        <!-- Player Info - Separate Box -->
        <div class="player-info-box player-info">
            <h3>Player</h3>
            <div class="player-stats-compact">
                <div class="health">ğŸ›¡ï¸ <span id="playerHealth">20</span></div>
                <div class="gold">ğŸ’° <span id="playerGoldCurrent">2</span></div>
            </div>
            <button class="btn btn-primary" id="endTurnBtn">End Turn</button>
        </div>

        <!-- Hand Cards - Extended Bottom Right -->
        <div class="hand-cards-horizontal" id="playerHand">
            <div class="hand-header">
                <span>Your Hand</span>
                <div class="hand-controls">
                    <button class="btn btn-deck btn-deck-hand" id="playerDeckBtn" title="View Your Deck">Your Deck: <span id="playerDeckCount">0</span></button>
                </div>
            </div>
            <div class="hand-cards-container" id="handCardsContainer">
                <!-- Cards will be dynamically added here -->
            </div>
        </div>

        <!-- Fixed Sidebar -->
        <div class="fixed-controls">
            <div class="control-section">
                <h4>Information</h4>
                <button class="btn btn-secondary" id="howToPlayBtnSidebar">How to Play</button>
            </div>
            
            <div class="control-section">
                <h4>Draft Cards</h4>
                <button class="btn btn-primary" id="draftTier1Btn" data-tier="1">
                    Tier 1 (2 ğŸ’°) <span class="remaining-count" id="tier1Count">25</span>
                </button>
                <button class="btn btn-primary" id="draftTier2Btn" data-tier="2">
                    Tier 2 (4 ğŸ’°) <span class="remaining-count" id="tier2Count">25</span>
                </button>
                <button class="btn btn-primary" id="draftTier3Btn" data-tier="3">
                    Tier 3 (6 ğŸ’°) <span class="remaining-count" id="tier3Count">25</span>
                </button>
                <button class="btn btn-primary" id="draftTier4Btn" data-tier="4">
                    Tier 4 (8 ğŸ’°) <span class="remaining-count" id="tier4Count">25</span>
                </button>
                <button class="btn btn-primary" id="draftTier5Btn" data-tier="5">
                    Tier 5 (10 ğŸ’°) <span class="remaining-count" id="tier5Count">25</span>
                </button>
            </div>
            
            <div class="control-section">
                <h4>Other Actions</h4>
                <button class="btn btn-secondary" id="spellDraftBtn">ğŸ“– Spellbook</button>
                <button class="btn btn-secondary" id="drawDeckBtn">Draw from Deck (3 ğŸ’°)</button>
            </div>
        </div>
    </div>

    <!-- Draft Modal -->
    <div id="draftOverlay" class="modal-overlay">
        <div class="modal-content">
            <button class="modal-close">Ã—</button>
            <div class="modal-header">
                <div id="draftInfo">Choose a Card</div>
            </div>
            <div id="draftCards" class="draft-options"></div>
        </div>
    </div>

    <!-- Deck Modal -->
    <div id="deckModal" class="modal-overlay">
        <div class="modal-content deck-modal">
            <button class="modal-close">Ã—</button>
            <div class="modal-header">
                <h2>Your Deck</h2>
            </div>
            <div id="deckContent" class="deck-cards"></div>
        </div>
    </div>

    <!-- Keyword Tooltip -->
    <div id="keywordTooltip" class="keyword-tooltip" style="display: none;">
        <div class="tooltip-header"></div>
        <div class="tooltip-description"></div>
    </div>

    <!-- How to Play Modal -->
    <div id="howToPlayModal" class="modal-overlay">
        <div class="modal-content how-to-play-content">
            <button class="modal-close">Ã—</button>
            <h2>How to Play - Everduel</h2>
            
            <h3>ğŸ¯ Objective</h3>
            <p>Reduce your opponent's health from 20 to 0 by strategically drafting cards, placing units, and attacking.</p>
            
            <h3>ğŸ’° Gold System</h3>
            <p>â€¢ Both players start with 2 max gold, increasing by 1 each turn</p>
            <p>â€¢ You start each turn with your maximum gold amount</p>
            <p>â€¢ Gold progression: Turn 1 (2 gold) â†’ Turn 2 (3 gold) â†’ Turn 3 (4 gold)...</p>
            
            <h3>ğŸƒ Card Costs & Drafting</h3>
            <p>â€¢ <strong>Tier 1:</strong> 2 ğŸ’° - Basic units</p>
            <p>â€¢ <strong>Tier 2:</strong> 4 ğŸ’° - Improved stats and abilities</p>
            <p>â€¢ <strong>Tier 3:</strong> 6 ğŸ’° - Strong units with powerful effects</p>
            <p>â€¢ <strong>Tier 4:</strong> 8 ğŸ’° - Elite units with game-changing abilities</p>
            <p>â€¢ <strong>Tier 5:</strong> 10 ğŸ’° - Legendary units with devastating power</p>
            <p>â€¢ <strong>Draw from Deck:</strong> 3 ğŸ’° - Retrieve units that have died</p>
            
            <h3>ğŸ´ Hand & Battlefield</h3>
            <p>â€¢ Keep up to <strong>3 cards</strong> in your hand</p>
            <p>â€¢ Place units from hand onto your battlefield (3x2 grid: Front Row & Back Row)</p>
            <p>â€¢ Units cannot attack the turn they're played (unless they have Rush)</p>
            <p>â€¢ When units die, they go to the bottom of your deck</p>
            
            <h3>âš”ï¸ Combat System</h3>
            <p><strong>Column-Based Attacking:</strong> Units attack enemies in their column deterministically</p>
            
            <h4>ğŸ¯ Normal Unit Targeting:</h4>
            <p>1. Attack Front Row enemy (if present)</p>
            <p>2. Attack Back Row enemy (if front empty)</p>
            <p>3. Attack enemy player directly (if column empty)</p>
            
            <h4>ğŸ¹ Special Unit Types:</h4>
            <p><strong>Ranged:</strong> Ignore Front Row, attack Back Row â†’ Player directly</p>
            <p><strong>Flying:</strong> Always attack player, UNLESS enemy Flying unit in same column (then target frontmost Flying)</p>
            
            <h4>âš¡ Combat Mechanics:</h4>
            <p>â€¢ Units deal attack damage to each other simultaneously</p>
            <p>â€¢ When health reaches 0, unit is destroyed</p>
            
            <h3>ğŸ›¡ï¸ Keyword Abilities</h3>
            <p><strong>Unleash:</strong> Trigger effect when unit is summoned</p>
            <p><strong>Flying:</strong> Always attacks player unless enemy Flying in column</p>
            <p><strong>Trample:</strong> Excess damage dealt to unit carries over to player</p>
            <p><strong>Sneaky:</strong> First attack targets enemy player directly</p>
            <p><strong>Rush:</strong> Can attack the turn it's played</p>
            <p><strong>Ranged:</strong> Ignores Front Row when attacking</p>
            <p><strong>Kindred:</strong> Triggers when summoning unit with same Tag</p>
            <p><strong>Manacharge:</strong> Triggers when you use Blue Unleash abilities</p>
            <p><strong>Last Gasp:</strong> Triggers when unit is destroyed</p>
            <p><strong>Banish:</strong> Removed from game permanently (doesn't return to deck)</p>
            
            <h3>ğŸ® Controls</h3>
            <p>â€¢ Click cards in hand to select them</p>
            <p>â€¢ Click empty battlefield slots to place selected units</p>
            <p>â€¢ Use sidebar buttons to draft cards from different tiers</p>
            <p>â€¢ Click "End Turn" when finished with your actions</p>
            
            <h3>ğŸ¤– AI Behavior</h3>
            <p>The AI will spend all available gold each turn, prioritize playing units, and attack whenever possible.</p>
        </div>
    </div>

    <!-- Game Log Panel -->
    <div id="gameLogPanel" class="game-log-panel hidden">
        <div class="log-header">
            <h3>ğŸ“œ Game Log</h3>
            <div class="log-controls">
                <button class="log-clear-btn" id="gameLogClearBtn">Clear</button>
                <button class="log-close-btn" id="gameLogCloseBtn">Ã—</button>
            </div>
        </div>
        <div class="log-entries" id="gameLogEntries">
            <div class="log-entry">ğŸ® Welcome to Everduel!</div>
            <div class="log-entry">ğŸ”„ Game started - Your turn</div>
        </div>
    </div>

    <!-- Notification System -->
    <div class="notification" id="notification"></div>

    <!-- Main Game Script - Using Simple Implementation -->
    <script type="module" src="src/Main.js"></script>
    
    <script>
        // Initialize game when page loads
        document.addEventListener('DOMContentLoaded', () => {
            console.log('ğŸ® Everduel starting...');
        });
    </script>
</body>
</html>